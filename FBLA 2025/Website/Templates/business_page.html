{% extends "base.html" %}
{% block content %}

<div class="business-profile" style="display: flex; justify-content: center; align-items: center; min-height: calc(100vh - 100px); padding: 20px;">
  <div class="card" style="width: 100%; max-width: 800px; padding: 40px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    
    <!-- Business Header Section -->
    <div style="margin-bottom: 30px;">
      <h1 style="margin: 0; color: #333;"><strong><span class="highlight">{{ business.biz_name }}</span></strong></h1>
      <p style="color: #666; margin: 10px 0 0 0; font-size: 14px;">
        <em>Posted: {{ business.created_at.strftime('%B %d, %Y') if business.created_at else 'N/A' }}</em>
      </p>
    </div>

    <hr style="margin: 20px 0; border: none; border-top: 2px solid #e0e0e0;">

    <!-- Business Image Section -->
    {% if business.image_file %}
    <div style="margin-bottom: 30px; text-align: center;">
      <img 
        src="{{ url_for('static', filename='uploads/businesses/' + business.image_file) }}" 
        alt="{{ business.biz_name }}"
        style="max-width: 100%; height: auto; border-radius: 8px; max-height: 300px; object-fit: cover;">
    </div>
    {% else %}
    <div style="margin-bottom: 30px; text-align: center; padding: 40px; background-color: #f5f5f5; border-radius: 8px;">
      <p style="color: #999; margin: 0;">No image available</p>
    </div>
    {% endif %}

    <!-- Business Information Section -->
    <div style="background-color: #f9f9f9; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
      
      <!-- Category -->
      <div style="margin-bottom: 15px;">
        <p style="margin: 0 0 5px 0; color: #666; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Category</p>
        <p style="margin: 0; font-size: 16px; font-weight: 500; color: #333;">
          {{ business.category }}
        </p>
      </div>

      <!-- Description -->
      {% if business.description %}
      <div style="margin-bottom: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0;">
        <p style="margin: 0 0 5px 0; color: #666; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Description</p>
        <p style="margin: 0; font-size: 14px; line-height: 1.6; color: #555;">
          {{ business.description }}
        </p>
      </div>
      {% endif %}

    </div>

    <!-- Additional Info Section -->
    <div style="margin-bottom: 30px;">
      <p style="margin: 0 0 10px 0; color: #666; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">Business Details</p>
      <ul style="margin: 0; padding-left: 20px; list-style: none;">
        <li style="padding: 8px 0; color: #555;">
          <strong>Business ID:</strong> #{{ business.id }}
        </li>
        <li style="padding: 8px 0; color: #555;">
          <strong>Owner:</strong> {{ business.owner.FirstName if business.owner else 'Unknown' }}
        </li>
        <li style="padding: 8px 0; color: #555;">
          <strong>Location:</strong> {{ business.location if business.location else 'N/A' }}
        </li>
        <li style="padding: 8px 0; color: #555;">
          <strong>Phone:</strong> {{ business.biz_phone if business.biz_phone else 'N/A' }}
        </li>
        <li style="padding: 8px 0; color: #555;">
          <strong>Email:</strong> {{ business.biz_email if business.biz_email else 'N/A' }}
        </li>
        <li style="padding: 8px 0; color: #555;">
          <strong>Website:</strong> {{ business.biz_website if business.biz_website else 'N/A' }}
        </li>
        <li style="padding: 8px 0; color: #555;">
          <strong>Created:</strong> {{ business.created_at.strftime('%B %d, %Y at %I:%M %p') if business.created_at else 'N/A' }}
        </li>
      </ul>
    </div>

    <!-- Edit Button (visible only to owner) -->
    {% if user.is_authenticated and business.user_id == user.id %}
    <div style="margin-top: 30px; padding-top: 30px; border-top: 2px solid #e0e0e0;">
      <a href="{{ url_for('views.business_page', biz_id=business.id) }}" class="btn btn-primary" style="display: inline-block; padding: 10px 20px; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px; font-weight: 500;">
        âœŽ Edit Business
      </a>
    </div>
    {% endif %}

  </div>
</div>

{% endblock %}
